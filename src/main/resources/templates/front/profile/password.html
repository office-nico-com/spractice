<!doctype html>
<html lang="ja">

<head th:replace="front/commons::head(title=~{::title}, links=~{::link}, styles=~{::style})">
<title>パスワード変更｜Secure Practice</title>

<style type="text/css">

</style>

</head>


<body th:with="length=${T(com.office_nico.spractice.constants.Length)}">
<header class="container-fluid" th:replace="front/commons::header"/>


<div class="container-fluid pb-5 main">


<th:block th:replace="front/commons::tabs('profile')"/>

<div class="main_body">

<div class="alert alert-info" role="alert" id="idCompleateMessage" style="display:none;">パスワードを変更しました。</div>

<h5 class="font-weight-bold title mb-4">パスワードの変更</h5>


<form id="idForm" method="post" th:action="@{/{clientKeycode}/password(clientKeycode=${clientKeycode})}" th:object="${obj}" >
	<div class="form-row justify-content-center">
		<div th:class="'form-group col-sm-6' + ${#fields.hasErrors('passwd') || #fields.hasErrors('passwdLen') ? ' form-attention' : ''}">

			<label for="passwd">パスワード</label>
			<input type="password" class="form-control" th:field="*{passwd}" th:maxlength="${length.passwd}"/>
			<span th:errors="*{passwd}" class="alert-message"/>
			<span th:errors="*{passwdLen}" class="alert-message"/>
		</div>
	</div>

	<div class="form-row justify-content-center">
		<div th:class="'form-group col-sm-6' + ${#fields.hasErrors('passwdConf') || #fields.hasErrors('passwdDifferent') ? ' form-attention' : ''}">
			<label for="passwdConf">パスワード（確認）</label>
			<input type="password" class="form-control" th:field="*{passwdConf}" th:maxlength="${length.passwd}"/>
			<span th:errors="*{passwdConf}" class="alert-message"/>
			<span th:errors="*{passwdDifferent}" class="alert-message"/>
		</div>
	</div>


	<div class="form-row mt-3">
		<div class="form-group col-sm-12 text-center">
			<button type="button" class="btn btn-primary mr-sm-2 pl-sm-4 pr-sm-4" data-toggle="modal" data-target="#modal1">　　変更する　　</button>
		</div>
	</div>

</form>


<div class="modal fade" id="modal1" tabindex="-1" role="dialog" aria-hidden="true">
<div class="modal-dialog" role="document">
<div class="modal-content">
<div class="modal-body">
<br/>パスワードを変更してもよろしいですか？<br/><br/>
</div>
<div class="modal-footer">
<button type="button" class="btn btn-secondary" data-dismiss="modal">閉じる</button>
<button type="button" class="btn btn-primary" onclick="edit();">変更する</button>
</div>
</div>
</div>
</div>


</div>


</div>
<footer th:replace="front/commons::footer" class="container-fluid"/>

<th:block th:replace="front/commons::scripts(scripts=~{::script})">
<script type="text/javascript" th:src="@{/js/front.js}"></script>
<script type="text/javascript" th:inline="javascript">
$(function(){
	if($.cookie("compleate") == 'true'){
		$('#idCompleateMessage').show();
		$.cookie("compleate", 'false', { path:'/' });
	}
});
const edit = () => {
		$('#idForm').submit();
}

</script>
</th:block>

</body>
</html>
